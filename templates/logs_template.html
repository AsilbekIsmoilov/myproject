<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö</title>
    <style>
        body { font-family: sans-serif; padding: 2rem; }
        .log { margin-top: 20px; color: green; }
    </style>
</head>
<body>
    <h1>üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—á–∞–ª–æ—Å—å...</h1>
    <p>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É.</p>

    <div class="log" id="logBox">‚è≥ –ñ–¥—ë–º –æ—Ç–≤–µ—Ç–∞ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞...</div>

    <script>
        fetch("{% url 'update_ajax' %}")
            .then(response => response.json())
            .then(data => {
                const log = data.result;
                const box = document.getElementById('logBox');
                if (typeof log === 'string') {
                    box.innerHTML = `<p>${log}</p>`;
                } else {
                    box.innerHTML = '<ul>' + log.map(item => `<li>${item}</li>`).join('') + '</ul>';
                }
            })
            .catch(error => {
                document.getElementById('logBox').innerText = "‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞: " + error;
            });
    </script>
</body>
</html>
